# 📝 記事投稿ルール

## 🎯 基本ルール

### 1. 記事投稿の自動化
- **新しい記事を投稿すると、自動的にトップページに記事カードが表示されます**
- 記事は日付順（最新順）で自動ソートされます
- 最新6件の記事がトップページの3x2グリッドに表示されます

### 2. 必須フィールド
すべての記事には以下のフロントマターが必須です：

```yaml
---
title: "記事のタイトル"
date: "2025-01-01"
categories: ["カテゴリ名"]
lang: "ja"
---
```

#### 必須フィールドの詳細
- **`title`**: 記事のタイトル（空の場合は警告が表示されます）
- **`date`**: 投稿日（YYYY-MM-DD形式）
- **`categories`**: カテゴリの配列（空の場合は警告が表示されます）
- **`lang`**: 言語設定（ja, en, ko, tw, hk）

### 3. ファイル命名規則
```
src/content/blog/
├── about-japanesetea/          # 日本茶関連
├── japanesefood/               # 日本の食べ物関連
├── health/                     # 健康関連
├── omotenasi/                  # おもてなし関連
├── japanese-agriculture/       # 日本農業関連
└── travelers/                  # 旅行者向け（英語記事）
```

### 4. カテゴリマッピング
以下のカテゴリ名を使用してください：

| ディレクトリ | カテゴリ名 | 英語表示 |
|-------------|------------|----------|
| `about-japanesetea/` | `日本茶` | `Japanese Tea` |
| `japanesefood/` | `日本の食べ物` | `Japanese Food` |
| `health/` | `健康関連` | `Health & Wellness` |
| `omotenasi/` | `おもてなし` | `Omotenashi` |
| `japanese-agriculture/` | `日本農業` | `Japanese Agriculture` |
| `travelers/` | `日本への旅行者へ` | `For Travelers` |

## 🚀 記事投稿の手順

### 1. 記事ファイルの作成
```bash
# 例：日本茶関連の記事
touch src/content/blog/about-japanesetea/2025-01-01-new-article.md
```

### 2. フロントマターの記入
```yaml
---
title: "新しい記事のタイトル"
date: "2025-01-01"
description: "記事の説明文"
categories: ["日本茶"]
tags: ["タグ1", "タグ2"]
lang: "ja"
---
```

### 3. 記事本文の記入
```markdown
# 記事のタイトル

記事の本文をここに記入してください。

## 見出し1

内容...

## 見出し2

内容...
```

## ✅ 自動化の仕組み

### 1. 記事取得
- `getAllFiles()` 関数が `src/content/blog/` 以下のすべてのMarkdownファイルを自動スキャン
- サブディレクトリも含めて再帰的に検索

### 2. 記事処理
- フロントマターを自動解析
- 日付による自動ソート（最新順）
- 必須フィールドの自動検証

### 3. 表示
- 最新6件の記事を自動的にトップページに表示
- 3x2グリッドレイアウトで自動配置
- カテゴリとタグの自動表示

## 🔍 トラブルシューティング

### 記事が表示されない場合
1. **フロントマターの確認**
   - `title`、`date`、`categories` が正しく設定されているか
   - 日付形式が `YYYY-MM-DD` になっているか

2. **ファイル名の確認**
   - ファイル名に日付が含まれているか
   - 拡張子が `.md` になっているか

3. **ディレクトリ構造の確認**
   - 正しいサブディレクトリに配置されているか

### 警告メッセージの対処
```
警告: タイトルが設定されていません: [ファイルパス]
警告: 日付が設定されていません: [ファイルパス]
警告: カテゴリが設定されていません: [ファイルパス]
```

これらの警告が出た場合は、該当するフロントマターを修正してください。

## 📊 デバッグ情報

記事投稿の状況は以下のログで確認できます：

```
=== 記事一覧デバッグ ===
総記事数: XX
表示記事数: XX
最新5記事（ソート後）: [...]
表示される記事（最新6件）: [...]

=== 記事投稿ルール検証 ===
記事投稿ルール違反: [slug]
  - タイトル: ✅/❌
  - 日付: ✅/❌
  - カテゴリ: ✅/❌

最新6件の記事を表示中: 6件
1番目: [タイトル] ([日付]) - カテゴリ: [カテゴリ]
...
```

## 🎉 成功のポイント

1. **フロントマターを必ず記入する**
2. **正しいカテゴリ名を使用する**
3. **日付形式を統一する**
4. **適切なディレクトリに配置する**

これらのルールに従えば、新しい記事は自動的にトップページに表示されます！ 